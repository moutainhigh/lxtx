package com.lxtech.util;

import java.io.StringReader;
import java.sql.SQLException;
import java.util.ArrayList;
import java.util.List;
import java.util.Map;

import com.google.gson.Gson;
import com.google.gson.stream.JsonReader;
import com.lxtech.dao.CloudKPeriodDao;
import com.lxtech.model.CloudKPeriod;

public class StringToJson {
	public static void main(String[] args) {
		List<CloudKPeriod> kList1 = convertKData(
				"{\"Market\":17000,\"Code\":\"BU\",\"KLineType\":2,\"Weight\":0,\"PushFlag\":0,\"LastOldTime\":\"2015-6-24 0:0:0\",\"KLine\":[[\"2016-11-10 1:15:0\",2966,2970,2965,2968,517,0],[\"2016-11-10 1:20:0\",2968,2969,2965,2966,240,0],[\"2016-11-10 1:25:0\",2966,2967,2966,2966,83,0],[\"2016-11-10 1:30:0\",2965,2967,2965,2967,166,0],[\"2016-11-10 1:35:0\",2967,2970,2967,2969,329,0],[\"2016-11-10 1:40:0\",2970,2970,2966,2966,270,0],[\"2016-11-10 1:45:0\",2966,2967,2962,2962,543,0],[\"2016-11-10 1:50:0\",2962,2962,2959,2960,458,0],[\"2016-11-10 1:55:0\",2960,2960,2957,2960,485,0],[\"2016-11-10 2:0:0\",2960,2962,2958,2960,316,0],[\"2016-11-10 2:5:0\",2961,2962,2960,2961,176,0],[\"2016-11-10 2:10:0\",2961,2962,2960,2960,98,0],[\"2016-11-10 2:15:0\",2961,2961,2959,2959,168,0],[\"2016-11-10 2:20:0\",2959,2961,2959,2960,163,0],[\"2016-11-10 2:25:0\",2960,2963,2959,2963,298,0],[\"2016-11-10 2:30:0\",2962,2962,2962,2962,76,0],[\"2016-11-10 2:35:0\",2962,2963,2961,2963,94,0],[\"2016-11-10 2:40:0\",2963,2966,2962,2963,326,0],[\"2016-11-10 2:45:0\",2963,2964,2962,2962,190,0],[\"2016-11-10 2:50:0\",2962,2966,2962,2966,266,0],[\"2016-11-10 2:55:0\",2966,2966,2963,2963,133,0],[\"2016-11-10 3:0:0\",2964,2967,2964,2966,206,0],[\"2016-11-10 3:5:0\",2966,2966,2964,2965,325,0],[\"2016-11-10 3:10:0\",2965,2969,2965,2968,364,0],[\"2016-11-10 3:15:0\",2968,2971,2967,2968,720,0],[\"2016-11-10 3:20:0\",2968,2972,2968,2971,281,0],[\"2016-11-10 3:25:0\",2972,2972,2970,2972,342,0],[\"2016-11-10 3:30:0\",2972,2972,2970,2971,381,0],[\"2016-11-10 3:35:0\",2970,2972,2970,2972,120,0],[\"2016-11-10 3:40:0\",2971,2972,2968,2968,146,0],[\"2016-11-10 3:45:0\",2968,2970,2968,2970,173,0],[\"2016-11-10 3:50:0\",2970,2973,2970,2972,260,0],[\"2016-11-10 3:55:0\",2972,2972,2970,2972,185,0],[\"2016-11-10 4:0:0\",2972,2973,2969,2969,248,0],[\"2016-11-10 4:5:0\",2969,2970,2967,2969,262,0],[\"2016-11-10 4:10:0\",2968,2969,2968,2968,103,0],[\"2016-11-10 4:15:0\",2968,2968,2966,2968,135,0],[\"2016-11-10 4:20:0\",2967,2968,2967,2967,57,0],[\"2016-11-10 4:25:0\",2968,2969,2968,2969,78,0],[\"2016-11-10 4:30:0\",2969,2970,2968,2970,129,0],[\"2016-11-10 4:35:0\",2970,2972,2970,2971,169,0],[\"2016-11-10 4:40:0\",2971,2971,2968,2968,155,0],[\"2016-11-10 4:45:0\",2969,2970,2969,2970,91,0],[\"2016-11-10 4:50:0\",2970,2970,2966,2966,208,0],[\"2016-11-10 4:55:0\",2966,2968,2966,2967,77,0],[\"2016-11-10 5:0:0\",2968,2969,2966,2968,177,0],[\"2016-11-10 5:5:0\",2969,2970,2969,2970,101,0],[\"2016-11-10 5:10:0\",2970,2973,2970,2971,339,0],[\"2016-11-10 5:15:0\",2972,2975,2971,2974,501,0],[\"2016-11-10 5:20:0\",2975,2977,2975,2976,506,0],[\"2016-11-10 5:25:0\",2976,2979,2975,2976,561,0],[\"2016-11-10 5:30:0\",2977,2978,2976,2977,278,0],[\"2016-11-10 5:35:0\",2977,2979,2977,2977,289,0],[\"2016-11-10 5:40:0\",2977,2979,2977,2979,314,0],[\"2016-11-10 5:45:0\",2979,2983,2979,2983,739,0],[\"2016-11-10 5:50:0\",2982,2985,2982,2985,626,0],[\"2016-11-10 5:55:0\",2984,2987,2983,2985,726,0],[\"2016-11-10 6:0:0\",2985,2985,2981,2981,401,0],[\"2016-11-10 6:5:0\",2981,2985,2979,2982,545,0],[\"2016-11-10 6:10:0\",2982,2983,2980,2983,1450,0],[\"2016-11-10 6:15:0\",2983,2990,2981,2987,1173,0],[\"2016-11-10 6:20:0\",2987,2990,2987,2988,447,0],[\"2016-11-10 6:25:0\",2988,2989,2987,2988,301,0],[\"2016-11-10 6:30:0\",2988,2990,2987,2987,371,0],[\"2016-11-10 6:35:0\",2987,2988,2986,2987,1965,0],[\"2016-11-10 6:40:0\",2987,2990,2987,2990,285,0],[\"2016-11-10 6:45:0\",2990,2995,2990,2994,799,0],[\"2016-11-10 6:50:0\",2994,2995,2992,2992,712,0],[\"2016-11-10 6:55:0\",2992,2994,2991,2993,354,0],[\"2016-11-10 7:0:0\",2993,2995,2991,2993,563,0],[\"2016-11-10 7:5:0\",2993,2995,2990,2993,2047,0],[\"2016-11-10 7:10:0\",2993,2994,2993,2994,252,0],[\"2016-11-10 7:15:0\",2993,2997,2992,2995,848,0],[\"2016-11-10 7:20:0\",2995,2997,2993,2994,1308,0],[\"2016-11-10 7:25:0\",2994,2996,2993,2995,718,0],[\"2016-11-10 7:30:0\",2995,3000,2993,2999,1861,0],[\"2016-11-10 7:35:0\",2998,2999,2997,2999,434,0],[\"2016-11-10 7:40:0\",2999,3002,2998,3001,1149,0],[\"2016-11-10 7:45:0\",3001,3002,3000,3002,523,0],[\"2016-11-10 7:50:0\",3002,3002,2996,2997,1051,0],[\"2016-11-10 7:55:0\",2997,3003,2997,3000,1442,0],[\"2016-11-10 8:0:0\",3000,3002,2993,2993,2766,0],[\"2016-11-10 8:5:0\",2993,2997,2988,2988,2187,0],[\"2016-11-10 8:10:0\",2988,2991,2985,2991,1384,0],[\"2016-11-10 8:15:0\",2991,2993,2990,2991,751,0],[\"2016-11-10 8:20:0\",2991,2996,2991,2995,1011,0],[\"2016-11-10 8:25:0\",2994,2997,2989,2991,1154,0],[\"2016-11-10 8:30:0\",2991,2993,2990,2991,1017,0],[\"2016-11-10 8:35:0\",2991,2995,2991,2993,624,0],[\"2016-11-10 8:40:0\",2992,2992,2987,2989,883,0],[\"2016-11-10 8:45:0\",2989,2989,2983,2986,1462,0],[\"2016-11-10 8:50:0\",2986,2987,2983,2984,1383,0],[\"2016-11-10 8:55:0\",2983,2987,2981,2984,1281,0],[\"2016-11-10 9:0:0\",2985,2985,2973,2979,4102,0],[\"2016-11-10 9:5:0\",2979,2979,2975,2977,2920,0],[\"2016-11-10 9:10:0\",2977,2977,2970,2972,1673,0],[\"2016-11-10 9:15:0\",2972,2973,2967,2967,1735,0],[\"2016-11-10 9:20:0\",2967,2972,2965,2970,1341,0],[\"2016-11-10 9:25:0\",2970,2972,2968,2971,1067,0],[\"2016-11-10 9:30:0\",2971,2972,2966,2968,523,0]]}");
		for (CloudKPeriod kPeriod : kList1) {
			try {
				CloudKPeriodDao.saveData(kPeriod);
			} catch (SQLException e) {
				e.printStackTrace();
			}
		}

		List<CloudKPeriod> kList2 = convertKData(
				"{\"Market\":17000,\"Code\":\"BU\",\"KLineType\":5,\"Weight\":0,\"PushFlag\":0,\"LastOldTime\":\"2015-6-24 0:0:0\",\"KLine\":[[\"2016-11-9 3:45:0\",2872,2872,2853,2866,7169,0],[\"2016-11-9 4:0:0\",2866,2870,2858,2865,5634,0],[\"2016-11-9 4:15:0\",2864,2881,2862,2879,5731,0],[\"2016-11-9 4:30:0\",2878,2879,2845,2852,10389,0],[\"2016-11-9 4:45:0\",2852,2862,2842,2853,4248,0],[\"2016-11-9 5:0:0\",2852,2858,2846,2857,1921,0],[\"2016-11-9 5:15:0\",2858,2877,2858,2876,5072,0],[\"2016-11-9 5:30:0\",2875,2885,2870,2881,3942,0],[\"2016-11-9 5:45:0\",2881,2884,2871,2875,2919,0],[\"2016-11-9 6:0:0\",2877,2895,2875,2893,3546,0],[\"2016-11-9 6:15:0\",2893,2923,2884,2906,8254,0],[\"2016-11-9 6:30:0\",2906,2917,2879,2893,8686,0],[\"2016-11-9 6:45:0\",2893,2919,2889,2914,6136,0],[\"2016-11-9 7:0:0\",2913,2917,2905,2908,7767,0],[\"2016-11-9 7:15:0\",2908,2912,2908,2912,3243,0],[\"2016-11-9 7:30:0\",2912,2927,2907,2918,7259,0],[\"2016-11-9 7:45:0\",2918,2932,2916,2931,7568,0],[\"2016-11-9 8:0:0\",2930,2934,2916,2927,11009,0],[\"2016-11-9 8:15:0\",2926,2934,2916,2927,8742,0],[\"2016-11-9 8:30:0\",2926,2927,2918,2922,4040,0],[\"2016-11-9 8:45:0\",2922,2924,2912,2917,5597,0],[\"2016-11-9 9:0:0\",2916,2929,2916,2925,6965,0],[\"2016-11-9 9:15:0\",2924,2926,2918,2925,5462,0],[\"2016-11-9 9:30:0\",2925,2947,2924,2943,12310,0],[\"2016-11-9 9:45:0\",2943,2953,2942,2950,6602,0],[\"2016-11-9 10:0:0\",2950,2954,2944,2950,5620,0],[\"2016-11-9 10:15:0\",2950,2953,2946,2953,2944,0],[\"2016-11-9 10:30:0\",2954,2972,2949,2965,8777,0],[\"2016-11-9 10:45:0\",2965,2977,2963,2975,7425,0],[\"2016-11-9 11:0:0\",2975,2984,2958,2959,10820,0],[\"2016-11-9 11:15:0\",2959,2963,2946,2948,5267,0],[\"2016-11-9 11:30:0\",2948,2954,2947,2950,2941,0],[\"2016-11-9 11:45:0\",2950,2956,2945,2956,3859,0],[\"2016-11-9 12:0:0\",2956,2961,2938,2941,6620,0],[\"2016-11-9 12:15:0\",2941,2947,2937,2943,5452,0],[\"2016-11-9 12:30:0\",2943,2960,2941,2958,6368,0],[\"2016-11-9 12:45:0\",2958,2960,2952,2959,5374,0],[\"2016-11-9 13:0:0\",2959,2973,2957,2964,13565,0],[\"2016-11-9 13:15:0\",2964,2964,2945,2949,9682,0],[\"2016-11-9 13:30:0\",2949,2952,2943,2945,7478,0],[\"2016-11-9 13:45:0\",2945,2951,2931,2951,11328,0],[\"2016-11-9 14:0:0\",2950,2954,2936,2945,16608,0],[\"2016-11-9 14:15:0\",2946,2957,2942,2953,9379,0],[\"2016-11-9 14:30:0\",2953,2970,2942,2947,27361,0],[\"2016-11-9 14:45:0\",2947,2952,2939,2950,20928,0],[\"2016-11-9 15:0:0\",2950,2954,2941,2947,15483,0],[\"2016-11-9 15:15:0\",2947,2955,2936,2953,25462,0],[\"2016-11-9 15:30:0\",2952,2967,2931,2939,63065,0],[\"2016-11-9 15:45:0\",2939,2946,2926,2932,31834,0],[\"2016-11-9 16:0:0\",2933,2943,2932,2941,16507,0],[\"2016-11-9 16:15:0\",2941,2960,2941,2956,14762,0],[\"2016-11-9 16:30:0\",2956,3013,2954,2993,49320,0],[\"2016-11-9 16:45:0\",2994,3024,2993,3014,23632,0],[\"2016-11-9 17:0:0\",3014,3021,2995,2999,16482,0],[\"2016-11-9 17:15:0\",2999,3010,2999,3008,7635,0],[\"2016-11-9 17:30:0\",3008,3010,2996,3003,13307,0],[\"2016-11-9 17:45:0\",3003,3006,2997,3004,10603,0],[\"2016-11-9 18:0:0\",3004,3010,3000,3006,7460,0],[\"2016-11-9 18:15:0\",3006,3007,2987,2989,9460,0],[\"2016-11-9 18:30:0\",2989,2997,2984,2987,11994,0],[\"2016-11-9 18:45:0\",2987,2991,2978,2982,7062,0],[\"2016-11-9 19:0:0\",2982,2990,2975,2977,11790,0],[\"2016-11-9 19:15:0\",2977,2993,2974,2975,40081,0],[\"2016-11-9 19:30:0\",2974,2977,2971,2975,14996,0],[\"2016-11-9 19:45:0\",2975,2975,2968,2974,6991,0],[\"2016-11-10 1:0:0\",2968,2968,2964,2966,6263,0],[\"2016-11-10 1:15:0\",2966,2970,2965,2966,840,0],[\"2016-11-10 1:30:0\",2965,2970,2965,2966,765,0],[\"2016-11-10 1:45:0\",2966,2967,2957,2960,1486,0],[\"2016-11-10 2:0:0\",2960,2962,2958,2960,590,0],[\"2016-11-10 2:15:0\",2961,2963,2959,2963,629,0],[\"2016-11-10 2:30:0\",2962,2966,2961,2963,496,0],[\"2016-11-10 2:45:0\",2963,2966,2962,2963,589,0],[\"2016-11-10 3:0:0\",2964,2969,2964,2968,895,0],[\"2016-11-10 3:15:0\",2968,2972,2967,2972,1343,0],[\"2016-11-10 3:30:0\",2972,2972,2968,2968,647,0],[\"2016-11-10 3:45:0\",2968,2973,2968,2972,618,0],[\"2016-11-10 4:0:0\",2972,2973,2967,2968,613,0],[\"2016-11-10 4:15:0\",2968,2969,2966,2969,270,0],[\"2016-11-10 4:30:0\",2969,2972,2968,2968,453,0],[\"2016-11-10 4:45:0\",2969,2970,2966,2967,376,0],[\"2016-11-10 5:0:0\",2968,2973,2966,2971,617,0],[\"2016-11-10 5:15:0\",2972,2979,2971,2976,1568,0],[\"2016-11-10 5:30:0\",2977,2979,2976,2979,881,0],[\"2016-11-10 5:45:0\",2979,2987,2979,2985,2091,0],[\"2016-11-10 6:0:0\",2985,2985,2979,2983,2396,0],[\"2016-11-10 6:15:0\",2983,2990,2981,2988,1921,0],[\"2016-11-10 6:30:0\",2988,2990,2986,2990,2621,0],[\"2016-11-10 6:45:0\",2990,2995,2990,2993,1865,0],[\"2016-11-10 7:0:0\",2993,2995,2990,2994,2862,0],[\"2016-11-10 7:15:0\",2993,2997,2992,2995,2874,0],[\"2016-11-10 7:30:0\",2995,3002,2993,3001,3444,0],[\"2016-11-10 7:45:0\",3001,3003,2996,3000,3016,0],[\"2016-11-10 8:0:0\",3000,3002,2985,2991,6337,0],[\"2016-11-10 8:15:0\",2991,2997,2989,2991,2916,0],[\"2016-11-10 8:30:0\",2991,2995,2987,2989,2524,0],[\"2016-11-10 8:45:0\",2989,2989,2981,2984,4126,0],[\"2016-11-10 9:0:0\",2985,2985,2970,2972,8695,0],[\"2016-11-10 9:15:0\",2972,2973,2965,2971,4143,0],[\"2016-11-10 9:30:0\",2971,2972,2965,2966,1450,0]]}");
		for (CloudKPeriod kPeriod : kList2) {
			try {
				CloudKPeriodDao.saveData(kPeriod);
			} catch (SQLException e) {
				e.printStackTrace();
			}
		}

		List<CloudKPeriod> kList3 = convertKData(
				"{\"Market\":17000,\"Code\":\"BU\",\"KLineType\":6,\"Weight\":0,\"PushFlag\":0,\"LastOldTime\":\"2015-6-24 0:0:0\",\"KLine\":[[\"2016-11-7 17:0:0\",2922,2925,2913,2914,17158,0],[\"2016-11-7 17:30:0\",2915,2921,2914,2920,10135,0],[\"2016-11-7 18:0:0\",2920,2922,2916,2917,11715,0],[\"2016-11-7 18:30:0\",2917,2941,2916,2937,23734,0],[\"2016-11-7 19:0:0\",2937,2958,2929,2952,82895,0],[\"2016-11-7 19:30:0\",2952,2954,2947,2952,13721,0],[\"2016-11-8 1:0:0\",2955,2958,2952,2954,4310,0],[\"2016-11-8 1:30:0\",2954,2955,2945,2946,2238,0],[\"2016-11-8 2:0:0\",2946,2948,2945,2947,927,0],[\"2016-11-8 2:30:0\",2947,2948,2946,2947,740,0],[\"2016-11-8 3:0:0\",2948,2952,2947,2952,1319,0],[\"2016-11-8 3:30:0\",2952,2952,2950,2952,595,0],[\"2016-11-8 4:0:0\",2951,2953,2950,2952,589,0],[\"2016-11-8 4:30:0\",2952,2953,2950,2952,643,0],[\"2016-11-8 5:0:0\",2952,2957,2952,2957,1163,0],[\"2016-11-8 5:30:0\",2957,2958,2952,2954,1205,0],[\"2016-11-8 6:0:0\",2954,2957,2952,2954,1286,0],[\"2016-11-8 6:30:0\",2954,2955,2952,2953,500,0],[\"2016-11-8 7:0:0\",2952,2954,2945,2953,3336,0],[\"2016-11-8 7:30:0\",2953,2954,2947,2950,2687,0],[\"2016-11-8 8:0:0\",2950,2964,2947,2954,9373,0],[\"2016-11-8 8:30:0\",2954,2978,2954,2974,12848,0],[\"2016-11-8 9:0:0\",2974,2974,2967,2968,7075,0],[\"2016-11-8 9:30:0\",2968,2975,2966,2971,6019,0],[\"2016-11-8 10:0:0\",2971,2973,2964,2966,4469,0],[\"2016-11-8 10:30:0\",2966,2968,2961,2964,3454,0],[\"2016-11-8 11:0:0\",2965,2965,2955,2957,7820,0],[\"2016-11-8 11:30:0\",2957,2958,2948,2954,6772,0],[\"2016-11-8 12:0:0\",2954,2955,2937,2941,12398,0],[\"2016-11-8 12:30:0\",2941,2941,2935,2937,7701,0],[\"2016-11-8 13:0:0\",2937,2945,2932,2943,11226,0],[\"2016-11-8 13:30:0\",2943,2952,2943,2947,15752,0],[\"2016-11-8 14:0:0\",2947,2947,2925,2933,41511,0],[\"2016-11-8 14:30:0\",2933,2943,2922,2929,39510,0],[\"2016-11-8 15:0:0\",2929,2948,2923,2946,45694,0],[\"2016-11-8 15:30:0\",2945,2977,2939,2966,55785,0],[\"2016-11-8 16:0:0\",2966,2968,2948,2952,36151,0],[\"2016-11-8 16:30:0\",2953,2962,2950,2960,23401,0],[\"2016-11-8 17:0:0\",2960,2974,2951,2966,34440,0],[\"2016-11-8 17:30:0\",2966,2984,2963,2982,33527,0],[\"2016-11-8 18:0:0\",2981,2987,2968,2975,31635,0],[\"2016-11-8 18:30:0\",2975,2980,2973,2974,18910,0],[\"2016-11-8 19:0:0\",2974,2975,2952,2958,85313,0],[\"2016-11-8 19:30:0\",2958,2960,2948,2949,17654,0],[\"2016-11-9 1:0:0\",2964,2977,2948,2955,20070,0],[\"2016-11-9 1:30:0\",2955,2961,2939,2943,7310,0],[\"2016-11-9 2:0:0\",2942,2943,2850,2889,39327,0],[\"2016-11-9 2:30:0\",2889,2896,2859,2895,18632,0],[\"2016-11-9 3:0:0\",2895,2895,2834,2839,26205,0],[\"2016-11-9 3:30:0\",2838,2873,2837,2866,17854,0],[\"2016-11-9 4:0:0\",2866,2881,2858,2879,11365,0],[\"2016-11-9 4:30:0\",2878,2879,2842,2853,14637,0],[\"2016-11-9 5:0:0\",2852,2877,2846,2876,6993,0],[\"2016-11-9 5:30:0\",2875,2885,2870,2875,6861,0],[\"2016-11-9 6:0:0\",2877,2923,2875,2906,11800,0],[\"2016-11-9 6:30:0\",2906,2919,2879,2914,14822,0],[\"2016-11-9 7:0:0\",2913,2917,2905,2912,11010,0],[\"2016-11-9 7:30:0\",2912,2932,2907,2931,14827,0],[\"2016-11-9 8:0:0\",2930,2934,2916,2927,19751,0],[\"2016-11-9 8:30:0\",2926,2927,2912,2917,9637,0],[\"2016-11-9 9:0:0\",2916,2929,2916,2925,12427,0],[\"2016-11-9 9:30:0\",2925,2953,2924,2950,18912,0],[\"2016-11-9 10:0:0\",2950,2954,2944,2953,8564,0],[\"2016-11-9 10:30:0\",2954,2977,2949,2975,16202,0],[\"2016-11-9 11:0:0\",2975,2984,2946,2948,16087,0],[\"2016-11-9 11:30:0\",2948,2956,2945,2956,6800,0],[\"2016-11-9 12:0:0\",2956,2961,2937,2943,12072,0],[\"2016-11-9 12:30:0\",2943,2960,2941,2959,11742,0],[\"2016-11-9 13:0:0\",2959,2973,2945,2949,23247,0],[\"2016-11-9 13:30:0\",2949,2952,2931,2951,18806,0],[\"2016-11-9 14:0:0\",2950,2957,2936,2953,25987,0],[\"2016-11-9 14:30:0\",2953,2970,2939,2950,48289,0],[\"2016-11-9 15:0:0\",2950,2955,2936,2953,40945,0],[\"2016-11-9 15:30:0\",2952,2967,2926,2932,94899,0],[\"2016-11-9 16:0:0\",2933,2960,2932,2956,31269,0],[\"2016-11-9 16:30:0\",2956,3024,2954,3014,72952,0],[\"2016-11-9 17:0:0\",3014,3021,2995,3008,24117,0],[\"2016-11-9 17:30:0\",3008,3010,2996,3004,23910,0],[\"2016-11-9 18:0:0\",3004,3010,2987,2989,16920,0],[\"2016-11-9 18:30:0\",2989,2997,2978,2982,19056,0],[\"2016-11-9 19:0:0\",2982,2993,2974,2975,51871,0],[\"2016-11-9 19:30:0\",2974,2977,2968,2974,21987,0],[\"2016-11-10 1:0:0\",2968,2970,2964,2966,7103,0],[\"2016-11-10 1:30:0\",2965,2970,2957,2960,2251,0],[\"2016-11-10 2:0:0\",2960,2963,2958,2963,1219,0],[\"2016-11-10 2:30:0\",2962,2966,2961,2963,1085,0],[\"2016-11-10 3:0:0\",2964,2972,2964,2972,2238,0],[\"2016-11-10 3:30:0\",2972,2973,2968,2972,1265,0],[\"2016-11-10 4:0:0\",2972,2973,2966,2969,883,0],[\"2016-11-10 4:30:0\",2969,2972,2966,2967,829,0],[\"2016-11-10 5:0:0\",2968,2979,2966,2976,2185,0],[\"2016-11-10 5:30:0\",2977,2987,2976,2985,2972,0],[\"2016-11-10 6:0:0\",2985,2990,2979,2988,4317,0],[\"2016-11-10 6:30:0\",2988,2995,2986,2993,4486,0],[\"2016-11-10 7:0:0\",2993,2997,2990,2995,5736,0],[\"2016-11-10 7:30:0\",2995,3003,2993,3000,6460,0],[\"2016-11-10 8:0:0\",3000,3002,2985,2991,9253,0],[\"2016-11-10 8:30:0\",2991,2995,2981,2984,6650,0],[\"2016-11-10 9:0:0\",2985,2985,2965,2971,12838,0],[\"2016-11-10 9:30:0\",2971,2972,2964,2966,1816,0]]}");
		for (CloudKPeriod kPeriod : kList3) {
			try {
				CloudKPeriodDao.saveData(kPeriod);
			} catch (SQLException e) {
				e.printStackTrace();
			}
		}
	}

	public static List<CloudKPeriod> convertKData(String data) {
		List<CloudKPeriod> kList = new ArrayList<>();
		String str = data;
		Map<String, Object> map = (Map<String, Object>) convertStringToObject(str);
		String code = map.get("Code").toString();
		int type = ((Double) map.get("KLineType")).intValue();
		List mapList = (List) map.get("KLine");
		for (Object obj : mapList) {
			CloudKPeriod vo = new CloudKPeriod();
			vo.setSubject(code);
			String s1 = obj.toString().replace("[", "").replace("]", "");
			String s3[] = s1.split(", ");
			vo.setTime(s3[0]);
			vo.setOpen(((Double) Double.parseDouble(s3[1])).intValue());
			vo.setHigh(((Double) Double.parseDouble(s3[2])).intValue());
			vo.setLow(((Double) Double.parseDouble(s3[3])).intValue());
			vo.setClose(((Double) Double.parseDouble(s3[4])).intValue());
			vo.setType(type);
			kList.add(vo);
		}
		return kList;
	}

	public static Object convertStringToObject(String jsonSource) {
		Gson gson = new Gson();
		JsonReader reader = new JsonReader(new StringReader(jsonSource));
		reader.setLenient(true);
		return gson.fromJson(reader, Object.class);
	}

}
